import{r as c,j as e,C as j,T as y,a as x,L as b,b as m,A as C,c as u,F as w,d as S,e as T}from"./vendor-BdbgMDah.js";import{S as A}from"./Dashboard.tsx-By4d6ZQ0.js";const v={accept:"application/json","Content-Type":"application/json"},F=async(n,r,o)=>(console.log("login request: ",n,r,o),(await fetch("/api/auth/login",{method:"POST",headers:v,body:JSON.stringify({username:n,password:r,cftoken:o})})).json()),L="0x4AAAAAAAVC5eHx-OwNy-FC";function D(n){return e.jsxs(x,{variant:"body2",color:"text.secondary",align:"center",...n,children:["Copyright Â© ",e.jsx(b,{color:"inherit",href:"/",children:"Lexi Navigator"})," ",new Date().getFullYear(),"."]})}const W=({handleSubmit:n})=>e.jsxs(m,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"300px"},children:[e.jsx(C,{sx:{m:1},children:e.jsx(A,{viewBox:"0 0 1091.6 1091.6"})}),e.jsx(x,{component:"h1",variant:"h5",children:"Sign in"}),e.jsxs(m,{component:"form",onSubmit:n,noValidate:!0,sx:{mt:1,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",autoFocus:!0}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),e.jsx(w,{control:e.jsx(S,{value:"remember",color:"primary",id:"remembermecheck"}),label:"Remember me",id:"rememberme"}),e.jsx(T,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"})]})]});function E(){const[n,r]=c.useState(""),o=c.useRef(),s=n.length>0;console.log("cfToken: ",n);const d=t=>{var a,l;t.preventDefault();const i=new FormData(t.currentTarget),g=((a=i.get("username"))==null?void 0:a.toString())||"",h=((l=i.get("username"))==null?void 0:l.toString())||"";F(g,h,n).then(f=>{console.log("login response: ",f)})},p=()=>{var t;console.log("expired"),r(""),(t=o.current)==null||t.reset()};return e.jsxs(j,{component:"main",maxWidth:"xs",sx:{minWidth:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[s?e.jsx(W,{handleSubmit:d}):e.jsx(y,{ref:o,siteKey:L,onSuccess:t=>r(t),onExpire:p}),e.jsx(D,{sx:{mt:8,mb:4}})]})}export{E as L};
